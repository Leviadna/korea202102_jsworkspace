<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Document</title>
<script src="../JS/lib.js"></script>
<script>

var arrow=[];
var colorArray=["red","orange","yellow","green","blue","navy","purple"];
var textArray=["♭","♩","♪","♬","◆","☆","★","◐","◑","○","●","◎","⊙","◈","◇","△","▲","▽","▼","□","■","◁","◀","▷","▶","◇","◆","♤","♠","♡","♥","♧","♣"];

// 1회성 x, 대량생산 코드 영역을 지정하자 (거푸집으로 선언하자 !!!!)
// 전산에서는 이 코드 단위를 class라고 한다 !
// 2015년부터 ECMAScript(JS)에도 class 지원 시작함
// 클래스명은 자바, C# 등에서 첫 철자를 대문자로 작성함이 약속된다 ****중요****
class Arrow{  // 화살 자체가 아니라, 장차 화살을 만들어 낼 틀이다
    // JS에서 사물이 보유한 변수는 constructor() 즉, 생성자 함수 내에 작성해야 하는 규칙이 있다
    constructor(y, color, velX, text){
        this.span;
        this.velX=velX;  // x좌표 속도
        this.x=0;  // x좌표
        this.y=y;
        this.color=color;
        this.text=text;
    }
    // 사물이 보유한 함수를 가리켜 그 사물의 동작 방법을 표현하는 것을 method라 한다
    init(){
        this.span = document.createElement("span");
        this.span.style.position="absolute";
        this.span.style.left=0+"px";
        this.span.style.top=this.y+"px";
        this.span.innerText=this.text;
        this.span.style.fontSize=20+"px";
        this.span.style.color=this.color;  // 색상적용
        document.body.appendChild(this.span);  // body 부착
    }

    move(){
        this.x+=this.velX;  // x좌표 10씩 누적
        this.span.style.left=this.x+"px";
    }
}

function auto(){
    for(var i=0; i<arrow.length; i++){
        arrow[i].move();
    }
}

window.addEventListener("load", function(){
    // 원하는만큼 거푸집에서 화살을 생성하자
    for(var i=0;i<100;i++){
        arrow[i] = new Arrow(i*20, colorArray[getRandom(colorArray.length)], getRandom(20)+1, textArray[getRandom(textArray.length)]); // constructor() 생성자 함수의 매개변수에 y값 전달
        arrow[i].init();
    }

    setInterval("auto()", 30);
});

</script>
</head>
<body>
    
</body>
</html>